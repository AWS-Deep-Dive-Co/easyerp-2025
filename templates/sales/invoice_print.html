{% extends 'base.html' %}
{% load static %}

{% block title %}Print Invoice - EasyERP{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row no-print mb-3">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <h2>Invoice Print Preview</h2>
                <div>
                    <a href="{% url 'sales:invoice_detail' invoice.id|default:'00000000-0000-0000-0000-000000000000' %}" class="btn btn-secondary me-2">
                        <i class="fas fa-arrow-left"></i> Back
                    </a>
                    <button onclick="window.print()" class="btn btn-primary">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Invoice Content -->
    <div class="invoice-content bg-white p-4 border">
        <div class="row mb-4">
            <div class="col-6">
                <h1 class="h3 text-primary">EasyERP</h1>
                <p class="mb-0">123 Business Street<br>
                City, State 12345<br>
                Phone: (555) 123-4567<br>
                Email: info@easyerp.com</p>
            </div>
            <div class="col-6 text-end">
                <h2 class="h4 mb-3">INVOICE</h2>
                <p class="mb-1"><strong>Invoice #:</strong> INV-0001</p>
                <p class="mb-1"><strong>Date:</strong> {{ invoice.issue_date|date:"M d, Y"|default:"Today" }}</p>
                <p class="mb-1"><strong>Due Date:</strong> {{ invoice.due_date|date:"M d, Y"|default:"Net 30" }}</p>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-6">
                <h5>Bill To:</h5>
                <p class="mb-0">
                    <strong>Sample Customer</strong><br>
                    456 Customer Lane<br>
                    Customer City, State 67890<br>
                    Phone: (555) 987-6543
                </p>
            </div>
            <div class="col-6">
                <h5>Ship To:</h5>
                <p class="mb-0">
                    Same as billing address
                </p>
            </div>
        </div>

        <div class="table-responsive mb-4">
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>Description</th>
                        <th class="text-center">Qty</th>
                        <th class="text-end">Unit Price</th>
                        <th class="text-end">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Sample Product 1</td>
                        <td class="text-center">2</td>
                        <td class="text-end">$50.00</td>
                        <td class="text-end">$100.00</td>
                    </tr>
                    <tr>
                        <td>Sample Product 2</td>
                        <td class="text-center">1</td>
                        <td class="text-end">$75.00</td>
                        <td class="text-end">$75.00</td>
                    </tr>
                    <tr>
                        <td colspan="4" class="text-center text-muted py-4">
                            <i class="fas fa-info-circle"></i> 
                            Sample invoice data - actual line items will appear here
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="col-6">
                <h6>Payment Terms:</h6>
                <p class="small mb-0">
                    Net 30 Days<br>
                    2% discount if paid within 10 days<br>
                    Late fee applies after due date
                </p>
            </div>
            <div class="col-6">
                <table class="table table-sm">
                    <tr>
                        <td class="text-end"><strong>Subtotal:</strong></td>
                        <td class="text-end">$175.00</td>
                    </tr>
                    <tr>
                        <td class="text-end"><strong>Tax (8.5%):</strong></td>
                        <td class="text-end">$14.88</td>
                    </tr>
                    <tr>
                        <td class="text-end"><strong>Discount:</strong></td>
                        <td class="text-end">$0.00</td>
                    </tr>
                    <tr class="table-dark">
                        <td class="text-end"><strong>Total:</strong></td>
                        <td class="text-end"><strong>$189.88</strong></td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="mt-4 pt-3 border-top">
            <p class="small text-muted mb-0">
                <strong>Notes:</strong> Thank you for your business! Please remit payment within 30 days.
            </p>
        </div>
    </div>
</div>

<style>
@media print {
    .no-print {
        display: none !important;
    }
    
    .invoice-content {
        border: none !important;
        box-shadow: none !important;
    }
    
    body {
        font-size: 12px;
    }
}

.invoice-content {
    max-width: 800px;
    margin: 0 auto;
}
</style>
{% endblock %}
